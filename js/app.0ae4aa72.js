(function(){"use strict";var t={702:function(t,e,r){var i=r(3751),n=r(641),s=r(33);const a=t=>((0,n.Qi)("data-v-f3383754"),t=t(),(0,n.jt)(),t),l={class:"flex flex-col items-center justify-center min-h-screen bg-green-100"},o=a((()=>(0,n.Lk)("h3",{class:"text-4xl font-bold mb-4"},"樋口智也です♡オセロしてってね",-1))),c={class:"image-grid"},u=["src"],h=["src"],m=["src"],f=["src"],g=["src"],b=["src"],d=["src"],v=["src"],p=["src"],k=["src"],C=["src"],P=["src"],y={class:"mb-4"},L={class:"mr-4"},O={class:"board"},z=["onClick","disabled"],x={class:"mt-4"},M={key:0,class:"text-xl font-bold"},E={key:1,class:"text-xl"},w={class:"mt-4 space-x-4"};function T(t,e,r,i,a,T){return(0,n.uX)(),(0,n.CE)("div",l,[o,(0,n.Lk)("div",c,[(0,n.Lk)("img",{src:a.hazu,alt:"画像の説明",class:"mb-4 img-size"},null,8,u),(0,n.Lk)("img",{src:a.hazu,alt:"画像の説明",class:"mb-4 img-size"},null,8,h),(0,n.Lk)("img",{src:a.hazu,alt:"画像の説明",class:"mb-4 img-size"},null,8,m),(0,n.Lk)("img",{src:a.hazu,alt:"画像の説明",class:"mb-4 img-size"},null,8,f),(0,n.Lk)("img",{src:a.hazu,alt:"画像の説明",class:"mb-4 img-size"},null,8,g),(0,n.Lk)("img",{src:a.hazu,alt:"画像の説明",class:"mb-4 img-size"},null,8,b),(0,n.Lk)("img",{src:a.hazu,alt:"画像の説明",class:"mb-4 img-size"},null,8,d),(0,n.Lk)("img",{src:a.hazu,alt:"画像の説明",class:"mb-4 img-size"},null,8,v),(0,n.Lk)("img",{src:a.hazu,alt:"画像の説明",class:"mb-4 img-size"},null,8,p),(0,n.Lk)("img",{src:a.hazu,alt:"画像の説明",class:"mb-4 img-size"},null,8,k),(0,n.Lk)("img",{src:a.hazu,alt:"画像の説明",class:"mb-4 img-size"},null,8,C),(0,n.Lk)("img",{src:a.hazu,alt:"画像の説明",class:"mb-4 img-size"},null,8,P)]),(0,n.Lk)("div",y,[(0,n.Lk)("span",L,"黒: "+(0,s.v_)(T.blackCount),1),(0,n.Lk)("span",null,"白: "+(0,s.v_)(T.whiteCount),1)]),(0,n.Lk)("div",O,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.board,((t,e)=>((0,n.uX)(),(0,n.CE)(n.FK,null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t,((t,r)=>((0,n.uX)(),(0,n.CE)("button",{key:`${e}-${r}`,class:(0,s.C4)([{"bg-green-500":t===a.EMPTY,"bg-black":t===a.BLACK,"bg-white":t===a.WHITE},"cell"]),onClick:t=>T.makeMove(e,r),disabled:a.gameOver||t!==a.EMPTY||a.isCPUOpponent&&a.currentPlayer===a.WHITE},null,10,z)))),128))],64)))),256))]),(0,n.Lk)("div",x,[a.gameOver?((0,n.uX)(),(0,n.CE)("p",M," ゲーム終了! "+(0,s.v_)(T.blackCount>T.whiteCount?"黒":T.whiteCount>T.blackCount?"白":"引き分け")+"の勝ち! ",1)):((0,n.uX)(),(0,n.CE)("p",E,"現在の手番: "+(0,s.v_)(a.currentPlayer===a.BLACK?"黒":"白"),1))]),(0,n.Lk)("div",w,[(0,n.Lk)("button",{class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:e[0]||(e[0]=(...t)=>T.resetGame&&T.resetGame(...t))},"ゲームをリセット"),(0,n.Lk)("button",{class:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",onClick:e[1]||(e[1]=(...t)=>T.toggleCPUOpponent&&T.toggleCPUOpponent(...t))},(0,s.v_)(a.isCPUOpponent?"2人プレイに切り替え":"CPUと対戦"),1)])])}r(4114);var I=r.p+"img/hazu.eabfde40.jpg";const B=8,U=0,A=1,K=2,H=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]],W=()=>{const t=Array(B).fill().map((()=>Array(B).fill(U))),e=B/2;return t[e-1][e-1]=K,t[e-1][e]=A,t[e][e-1]=A,t[e][e]=K,t},_=[[120,-20,20,5,5,20,-20,120],[-20,-40,-5,-5,-5,-5,-40,-20],[20,-5,15,3,3,15,-5,20],[5,-5,3,3,3,3,-5,5],[5,-5,3,3,3,3,-5,5],[20,-5,15,3,3,15,-5,20],[-20,-40,-5,-5,-5,-5,-40,-20],[120,-20,20,5,5,20,-20,120]];var j={data(){return{board:W(),currentPlayer:A,gameOver:!1,isCPUOpponent:!1,timer:null,BLACK:A,WHITE:K,EMPTY:U,hazu:I}},computed:{blackCount(){return this.board.flat().filter((t=>t===this.BLACK)).length},whiteCount(){return this.board.flat().filter((t=>t===this.WHITE)).length}},watch:{board:"handleBoardChange",currentPlayer:"handleCurrentPlayerChange"},methods:{handleBoardChange(){this.isCPUOpponent&&this.currentPlayer===this.WHITE&&!this.gameOver&&(clearTimeout(this.timer),this.timer=setTimeout(this.makeCPUMove,1e3))},handleCurrentPlayerChange(){this.canMove(this.board,this.currentPlayer)||(this.canMove(this.board,3-this.currentPlayer)?this.currentPlayer=3-this.currentPlayer:this.gameOver=!0)},canMove(t,e){for(let r=0;r<B;r++)for(let i=0;i<B;i++)if(this.isValidMove(t,r,i,e))return!0;return!1},isValidMove(t,e,r,i){if(e<0||e>=B||r<0||r>=B||t[e][r]!==U)return!1;for(const[n,s]of H){let a=e+n,l=r+s,o=!1;while(a>=0&&a<B&&l>=0&&l<B){if(void 0===t[a]||void 0===t[a][l]||t[a][l]===U)break;if(t[a][l]===i){if(o)return!0;break}o=!0,a+=n,l+=s}}return!1},makeMove(t,e){if(this.gameOver||!this.isValidMove(this.board,t,e,this.currentPlayer))return;const r=this.board.map((t=>[...t]));r[t][e]=this.currentPlayer;for(const[i,n]of H){let s=t+i,a=e+n;const l=[];while(s>=0&&s<B&&a>=0&&a<B){if(s<0||s>=B||a<0||a>=B||void 0===r[s]||void 0===r[s][a]||r[s][a]===U)break;if(r[s][a]===this.currentPlayer){for(const[t,e]of l)r[t][e]=this.currentPlayer;break}l.push([s,a]),s+=i,a+=n}}this.board=r,this.currentPlayer=3-this.currentPlayer},evaluateBoard(t,e){let r=0;for(let i=0;i<B;i++)for(let n=0;n<B;n++)t[i][n]===e?r+=_[i][n]:t[i][n]===3-e&&(r-=_[i][n]);return r},getValidMoves(t,e){const r=[];for(let i=0;i<B;i++)for(let n=0;n<B;n++)this.isValidMove(t,i,n,e)&&r.push([i,n]);return r},minimax(t,e,r,i,n){if(0===e||!this.canMove(t,this.BLACK)&&!this.canMove(t,this.WHITE))return this.evaluateBoard(t,this.WHITE);const s=r?this.WHITE:this.BLACK,a=this.getValidMoves(t,s);if(r){let r=-1/0;for(const[s,l]of a){const a=t.map((t=>[...t]));a[s][l]=this.WHITE;const o=this.minimax(a,e-1,!1,i,n);if(r=Math.max(r,o),i=Math.max(i,o),n<=i)break}return r}{let r=1/0;for(const[s,l]of a){const a=t.map((t=>[...t]));a[s][l]=this.BLACK;const o=this.minimax(a,e-1,!0,i,n);if(r=Math.min(r,o),n=Math.min(n,o),n<=i)break}return r}},makeCPUMove(){const t=this.getValidMoves(this.board,this.WHITE);let e=-1/0,r=null;for(const[i,n]of t){const t=this.board.map((t=>[...t]));t[i][n]=this.WHITE;const s=this.minimax(t,3,!1,-1/0,1/0);s>e&&(e=s,r=[i,n])}r&&this.makeMove(r[0],r[1])},resetGame(){this.board=W(),this.currentPlayer=this.BLACK,this.gameOver=!1},toggleCPUOpponent(){this.isCPUOpponent=!this.isCPUOpponent},getClass(t){return t===U?"bg-green-500":t===this.BLACK?"bg-black":"bg-white"}},beforeUnmount(){clearTimeout(this.timer)}},V=r(6262);const X=(0,V.A)(j,[["render",T],["__scopeId","data-v-f3383754"]]);var F=X;(0,i.Ef)(F).mount("#app")}},e={};function r(i){var n=e[i];if(void 0!==n)return n.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,r),s.exports}r.m=t,function(){var t=[];r.O=function(e,i,n,s){if(!i){var a=1/0;for(u=0;u<t.length;u++){i=t[u][0],n=t[u][1],s=t[u][2];for(var l=!0,o=0;o<i.length;o++)(!1&s||a>=s)&&Object.keys(r.O).every((function(t){return r.O[t](i[o])}))?i.splice(o--,1):(l=!1,s<a&&(a=s));if(l){t.splice(u--,1);var c=n();void 0!==c&&(e=c)}}return e}s=s||0;for(var u=t.length;u>0&&t[u-1][2]>s;u--)t[u]=t[u-1];t[u]=[i,n,s]}}(),function(){r.d=function(t,e){for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.p="/othello/"}(),function(){var t={524:0};r.O.j=function(e){return 0===t[e]};var e=function(e,i){var n,s,a=i[0],l=i[1],o=i[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(n in l)r.o(l,n)&&(r.m[n]=l[n]);if(o)var u=o(r)}for(e&&e(i);c<a.length;c++)s=a[c],r.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return r.O(u)},i=self["webpackChunknew_othello_game"]=self["webpackChunknew_othello_game"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=r.O(void 0,[504],(function(){return r(702)}));i=r.O(i)})();
//# sourceMappingURL=app.0ae4aa72.js.map